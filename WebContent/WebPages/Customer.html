<!DOCTYPE html>
<html>
    <head> 
        <title>Mobile Online Shopping</title> 
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 		<link rel="stylesheet" href="http://demos.jquerymobile.com/1.2.0/css/themes/default/jquery.mobile-1.2.0.css">
 		<link rel="stylesheet" href=http://demos.jquerymobile.com/1.2.0/docs/_assets/css/jqm-docs.css>
 		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css">
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
		<link type="text/css" rel="stylesheet" href="css/MyStyles.css" />
		<script src="js/ProductLine.Provider.js" type="text/javascript"></script>
 
          
           </head><body>
	<!-- Start of first page: #one -->
	 <div data-role="page" id="createNewProfile">
		 <div data-role="header" data-theme="b">
	    	<div id="itemsErrorMessage"></div><h1>FindStuff@Wiu</h1>
	  	</div>
		<!-- /header -->
		<div data-role="main" class="ui-content">
		 <div data-demo-html="true" id="customerFields" >
					<div data-role="fieldcontain">
						 <label for="FirstName"><strong>First Name</strong></label>
			        	  <input type="text" name="FirstName" id= "FirstName" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="LastName"><strong>Last Name</strong></label>
			        	  <input type="text" name="LastName" id= "LastName" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Phone"><strong>Phone</strong></label>
			        	  <input type="text" name="Phone" id= "Phone" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Email"><strong>Email</strong></label>
			        	 <input type="text" name="Email" id= "Email" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Address1"><strong>Address1</strong></label>
			        	  <input type="text" name="Address1" id= "Address1" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Address2"><strong>Address2</strong></label>
			        	  <input type="text" name="Address2" id= "Address2" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="State"><strong>State</strong></label>
			        	  <input type="text" name="State" id= "State" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Zip"><strong>Zip</strong></label>
			        	  <input type="text" name="Zip" id= "Zip" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="UserName"><strong>User Name</strong></label>
			        	  <input type="text" name="UserName" id= "UserName" value=""  />
			        </div>
			        <div data-role="fieldcontain">
						 <label for="Password"><strong>Password</strong></label>
			        	  <input type="text" name="Password" id= "Address2" value=""  />
			        </div>
			        <input type="button" data-role="button" data-theme="b" id="createProfile" value="Submit" />	 
         </div><!-- /demo-html --> 	
         
		</div>

		<!-- /content -->
		<div data-role="footer" data-theme="b">
		    <h1>FindStuff@Wiu.edu</h1>
		 </div>
		<!-- /footer -->

	<!-- /page -->
         <script type="text/javascript">
			
       		displayResult = function(result){
	        			$.mobile.pageContainer.pagecontainer("change", "UserProfile.html", {
							  transition: 'slide',
							  reloadPage    : true,
							});
	        		};
	        
	        var submitCustomerInfoBtn = $("#createProfile");
	        $("#createNewProfile").on("pageshow", function () { 
         		submitCustomerInfoBtn.on('click',function(){	
         		console.log("In")	;
				var CustomerObj = ProductLine.Provider.Customer;			 
					$.each(CustomerObj, function(index, field) {
         	  			CustomerObj[index] = $("[name="+index+"]").val();
					}); 
					
					ProductLine.Provider.ShowPageLoading();
					ProductLine.Provider.GetCallService("POST", ProductLine.Provider.defaultOptions.InsertCustomerUri(), JSON.stringify(CustomerObj), displayResult);
	        		ProductLine.Provider.HidePageLoading();	
	        				
				});
     
				 
			});	 	
			
         	
			
			/*  var Customer = { 
					LastName: "",
					FirstName:"" ,
					Address1:"",
					Address2:"",
					State:"",
					Zip:"",
					Phone: "",
					Email:"",
					UserName:"",
					Password:""
				};

				 var mainDiv = $("#customerFields");
				 $.each(Customer, function(index, field) {
					var divFieldContain = $("<div data-role='fieldcontain'></div>");
					var label = "<label>"+ index +"</label>" ;
					var inputDiv = $("<div class='ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset'></div>");
					var input = "";
					if(index == "Password"){
				 		 input = "<input type='password' name=" + index + " id= "+ index +" value=''  />";
				 	}else{
				 		 input = "<input type='text' name=" + index + " id= " + index + " value=''  />";
				 	}					
				 	var fieldDiv = divFieldContain.append(label).append(inputDiv.append(input));
					mainDiv.append(fieldDiv);
				}); 	 */	
		</script>
	</div></body>
</html>